# Test info

- Name: Debug filter clicking issues
- Location: /Users/naf/Downloads/doof/e2e/filter-debug.spec.js:3:1

# Error details

```
TimeoutError: page.waitForSelector: Timeout 10000ms exceeded.
Call log:
  - waiting for locator('[data-testid="filter-container"], .filter-container, .space-y-4') to be visible

    at /Users/naf/Downloads/doof/e2e/filter-debug.spec.js:8:14
```

# Page snapshot

```yaml
- navigation:
  - link "DOOF Logo":
    - /url: /
    - img "DOOF Logo"
  - link "Home":
    - /url: /
  - link "Trending":
    - /url: /trending
  - button "Create List":
    - img
    - text: Create List
  - link "Sign in":
    - /url: /login
    - button "Sign in"
  - link "Register":
    - /url: /register
    - button "Register"
- img "DOOF Logo"
- heading "Discover Amazing Food" [level=1]
- paragraph: Find restaurants, dishes, and curated lists from food lovers
- searchbox "Search lists"
- radiogroup:
  - radio "Lists" [checked]
  - radio "Restaurants"
  - radio "Dishes"
- img
- text: Trending Now
- img
- text: Popular
- heading "Traditional Cheesecake" [level=3]
- paragraph: at Sushi Ginza Onodera
- paragraph: Popular
- img
- img
- text: Popular
- heading "Atlantic Grill" [level=3]
- paragraph: Restaurant • Unknown
- paragraph: 0 views
- img
- img
- text: Popular
- heading "Deluxe Mac & Cheese" [level=3]
- paragraph: at Sushi Ishikawa
- paragraph: Popular
- img
- img
- text: Popular
- heading "ABC Lists" [level=3]
- paragraph: by unknown
- paragraph: 1 items
- img
- img
- text: Popular
- heading "Keens Steakhouse" [level=3]
- paragraph: Restaurant • Unknown
- paragraph: 0 views
- img
- img
- text: Popular
- heading "Special Fried Chicken" [level=3]
- paragraph: at Sushi Ishikawa
- paragraph: Popular
- img
- img
- text: Popular
- heading "Eleven Madison Park" [level=3]
- paragraph: Restaurant • Unknown
- paragraph: 0 views
- img
- img
- text: Popular
- heading "Traditional BBQ Ribs" [level=3]
- paragraph: at Sushi Ishikawa
- paragraph: Popular
- img
- img
- text: Popular
- heading "Chef's Clam Chowder" [level=3]
- paragraph: at Sushi Ginza Onodera
- paragraph: Popular
- img
- img
- text: Popular
- heading "Special BBQ Ribs" [level=3]
- paragraph: at Sushi Ishikawa
- paragraph: Popular
- img
- img
- text: Popular
- heading "Special Mac & Cheese" [level=3]
- paragraph: at Sushi Ginza Onodera
- paragraph: Popular
- img
- img
- text: Popular
- heading "Daniel" [level=3]
- paragraph: Restaurant • Unknown
- paragraph: 0 views
- img
- img
- text: Popular
- heading "Deluxe Clam Chowder" [level=3]
- paragraph: at Sushi Ishikawa
- paragraph: Popular
- img
- img
- text: Popular
- heading "Aquavit" [level=3]
- paragraph: Restaurant • Unknown
- paragraph: 0 views
- img
- img
- text: Popular
- heading "Le Bernardin" [level=3]
- paragraph: Restaurant • Unknown
- paragraph: 0 views
- img
- img
- text: Popular
- heading "Sushi Zo" [level=3]
- paragraph: Restaurant • Unknown
- paragraph: 0 views
- img
- img
- text: Popular
- heading "Traditional Cheesecake" [level=3]
- paragraph: at Sushi Ginza Onodera
- paragraph: Popular
- img
- img
- text: Popular
- heading "Atlantic Grill" [level=3]
- paragraph: Restaurant • Unknown
- paragraph: 0 views
- img
- img
- text: Popular
- heading "Deluxe Mac & Cheese" [level=3]
- paragraph: at Sushi Ishikawa
- paragraph: Popular
- img
- img
- text: Popular
- heading "ABC Lists" [level=3]
- paragraph: by unknown
- paragraph: 1 items
- img
- img
- text: Popular
- heading "Keens Steakhouse" [level=3]
- paragraph: Restaurant • Unknown
- paragraph: 0 views
- img
- img
- text: Popular
- heading "Special Fried Chicken" [level=3]
- paragraph: at Sushi Ishikawa
- paragraph: Popular
- img
- img
- text: Popular
- heading "Eleven Madison Park" [level=3]
- paragraph: Restaurant • Unknown
- paragraph: 0 views
- img
- img
- text: Popular
- heading "Traditional BBQ Ribs" [level=3]
- paragraph: at Sushi Ishikawa
- paragraph: Popular
- img
- img
- text: Popular
- heading "Chef's Clam Chowder" [level=3]
- paragraph: at Sushi Ginza Onodera
- paragraph: Popular
- img
- img
- text: Popular
- heading "Special BBQ Ribs" [level=3]
- paragraph: at Sushi Ishikawa
- paragraph: Popular
- img
- img
- text: Popular
- heading "Special Mac & Cheese" [level=3]
- paragraph: at Sushi Ginza Onodera
- paragraph: Popular
- img
- img
- text: Popular
- heading "Daniel" [level=3]
- paragraph: Restaurant • Unknown
- paragraph: 0 views
- img
- img
- text: Popular
- heading "Deluxe Clam Chowder" [level=3]
- paragraph: at Sushi Ishikawa
- paragraph: Popular
- img
- img
- text: Popular
- heading "Aquavit" [level=3]
- paragraph: Restaurant • Unknown
- paragraph: 0 views
- img
- img
- text: Popular
- heading "Le Bernardin" [level=3]
- paragraph: Restaurant • Unknown
- paragraph: 0 views
- img
- img
- text: Popular
- heading "Sushi Zo" [level=3]
- paragraph: Restaurant • Unknown
- paragraph: 0 views
- img
- button "Location"
- heading "City" [level=4]
- button "Chicago"
- button "Los Angeles"
- button "Miami"
- button "New York"
- button "Test City"
- button "Cuisine"
- 'article "List: ABC Lists"':
  - img
  - text: List
  - heading "ABC Lists" [level=3]
  - img
  - text: 1 item
  - img
  - text: 4 days ago
  - img
  - text: restaurant
- paragraph: You've reached the end of the lists.
- button "Open Tanstack query devtools":
  - img
- button "Open Tanstack query devtools":
  - img
```

# Test source

```ts
   1 | import { test, expect } from '@playwright/test';
   2 |
   3 | test('Debug filter clicking issues', async ({ page }) => {
   4 |   // Go to the app
   5 |   await page.goto('http://localhost:5173');
   6 |   
   7 |   // Wait for the page to load and filters to appear
>  8 |   await page.waitForSelector('[data-testid="filter-container"], .filter-container, .space-y-4', { timeout: 10000 });
     |              ^ TimeoutError: page.waitForSelector: Timeout 10000ms exceeded.
   9 |   
  10 |   console.log('Page loaded, looking for filter elements...');
  11 |   
  12 |   // Take a screenshot to see current state
  13 |   await page.screenshot({ path: 'filters-initial.png', fullPage: true });
  14 |   
  15 |   // Look for filter items
  16 |   const filterItems = await page.locator('button, .filter-item, [role="button"]').all();
  17 |   console.log(`Found ${filterItems.length} potential filter elements`);
  18 |   
  19 |   // Log details about each filter element
  20 |   for (let i = 0; i < Math.min(filterItems.length, 10); i++) {
  21 |     const item = filterItems[i];
  22 |     const text = await item.textContent();
  23 |     const isVisible = await item.isVisible();
  24 |     const isDisabled = await item.isDisabled();
  25 |     const classes = await item.getAttribute('class');
  26 |     console.log(`Filter ${i}: "${text}" - visible: ${isVisible}, disabled: ${isDisabled}, classes: ${classes}`);
  27 |   }
  28 |   
  29 |   // Look specifically for city filter buttons
  30 |   const cityButtons = await page.locator('text=New York, text=Los Angeles, text=Chicago, text=Miami, text=San Francisco').all();
  31 |   console.log(`Found ${cityButtons.length} city buttons`);
  32 |   
  33 |   // Try to find any clickable elements in the filter area
  34 |   const clickableElements = await page.locator('button, [role="button"], [tabindex="0"]').all();
  35 |   console.log(`Found ${clickableElements.length} clickable elements`);
  36 |   
  37 |   // Take another screenshot after inspection
  38 |   await page.screenshot({ path: 'filters-inspected.png', fullPage: true });
  39 |   
  40 |   // Try clicking on the first few elements to see what happens
  41 |   for (let i = 0; i < Math.min(clickableElements.length, 5); i++) {
  42 |     const element = clickableElements[i];
  43 |     const text = await element.textContent();
  44 |     const isVisible = await element.isVisible();
  45 |     
  46 |     if (isVisible && text && text.trim().length > 0) {
  47 |       console.log(`Attempting to click: "${text}"`);
  48 |       try {
  49 |         // Add a small delay to observe the click
  50 |         await element.click();
  51 |         await page.waitForTimeout(1000);
  52 |         
  53 |         // Take screenshot after click
  54 |         await page.screenshot({ path: `after-click-${i}.png`, fullPage: true });
  55 |         
  56 |         // Check if anything changed in the DOM
  57 |         const activeFilters = await page.locator('.active, .selected, [aria-pressed="true"]').count();
  58 |         console.log(`Active filters after click: ${activeFilters}`);
  59 |         
  60 |       } catch (error) {
  61 |         console.log(`Failed to click element: ${error.message}`);
  62 |       }
  63 |       
  64 |       // Small delay between clicks
  65 |       await page.waitForTimeout(500);
  66 |     }
  67 |   }
  68 |   
  69 |   // Final screenshot
  70 |   await page.screenshot({ path: 'filters-final.png', fullPage: true });
  71 | }); 
```