<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Doof API - Authentication Guide</title>
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;
            line-height: 1.6;
            color: #333;
            max-width: 800px;
            margin: 0 auto;
            padding: 20px;
        }
        h1, h2, h3 {
            color: #0066cc;
        }
        pre {
            background-color: #f5f5f5;
            padding: 10px;
            border-radius: 5px;
            overflow-x: auto;
        }
        code {
            font-family: 'Courier New', Courier, monospace;
            background-color: #f5f5f5;
            padding: 2px 4px;
            border-radius: 3px;
        }
        .note {
            background-color: #fffde7;
            border-left: 4px solid #ffd600;
            padding: 15px;
            margin: 15px 0;
        }
    </style>
</head>
<body>
    <h1>Doof API - Authentication Guide</h1>
    
    <div class="note">
        <strong>Note:</strong> The server is running in development mode, which simplifies authentication for local development.
    </div>
    
    <h2>Authentication System</h2>
    <p>The Doof API uses JWT (JSON Web Token) based authentication. Any user with a <code>superuser</code> account type automatically has access to all admin routes.</p>
    
    <h3>Login Flow</h3>
    <ol>
        <li>Client sends credentials to <code>/api/auth/login</code></li>
        <li>Server validates credentials and returns a JWT token</li>
        <li>Client stores token and sends it in the <code>Authorization</code> header with subsequent requests</li>
    </ol>
    
    <h3>Authorization Header Format</h3>
    <pre>Authorization: Bearer {token}</pre>
    
    <h2>Development Mode Features</h2>
    <p>In development mode (localhost), the following features are available:</p>
    <ul>
        <li>User authentication can be bypassed with the <code>X-Bypass-Auth: true</code> header</li>
        <li>Places API requests can bypass auth with <code>X-Places-Api-Request: true</code> header</li>
        <li>Admin routes require a valid JWT token with superuser account type</li>
    </ul>
    
    <h2>Test Endpoints</h2>
    <ul>
        <li><a href="/api/health">/api/health</a> - Check if API is running (no auth required)</li>
        <li><a href="/api/auth/status">/api/auth/status</a> - Check current authentication status</li>
        <li><a href="/api/admin/cleanup/health">/api/admin/cleanup/health</a> - Check admin API health (no auth required)</li>
    </ul>
    
    <h2>Need Help?</h2>
    <p>If you need help with authentication or encounter any issues, please check the <a href="https://github.com/yourusername/doof">GitHub repository</a> or refer to the project documentation.</p>
</body>
</html> 